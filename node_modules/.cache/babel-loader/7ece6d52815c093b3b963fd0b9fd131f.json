{"ast":null,"code":"var _jsxFileName = \"/home/benoit/Documents/ReactJS/pendu_ocr/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Key from './KeyBoard';\nimport Letter from './WordToGuess';\nimport GuessCount from './GuessCount';\nimport HallOfFame from './HallOfFame';\nimport AskWord from './AskWord';\nimport HighScoreInput from './HighScoreInput';\nconst SYMBOLS = 'A B C D E F G H I J K L M N O P Q R S T U V W X Y Z';\nconst Dictionnaire = ['LIPINddddddddddddd', 'PROOOddddddddd'];\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      keys: this.generateKeyBoard(),\n      word: [],\n      guesses: 0,\n      usedKeys: [],\n      foundLetters: [],\n      hallOfFame: null,\n      temporaryWord: '',\n      failedAttempt: 0,\n      imageAddress: ''\n    };\n\n    this.displayHallOfFame = hallOfFame => {\n      this.setState({\n        hallOfFame\n      });\n    };\n\n    this.StoreWord = Word => {\n      this.setState({\n        word: Word\n      });\n    };\n\n    this.handleCardClick = index => {\n      this.handleNewGuess(index);\n    };\n\n    this.initialState = {\n      keys: this.generateKeyBoard(),\n      word: [],\n      guesses: 0,\n      usedKeys: [],\n      foundLetters: [],\n      hallOfFame: null,\n      temporaryWord: '',\n      failedAttempt: 0,\n      imageAddress: './ImagePendu/Image0.jpg'\n    };\n    this.state = this.initialState;\n  }\n\n  onResetClick(e) {\n    e.preventDefault();\n    this.setState(this.initialState);\n  }\n\n  chooseWord() {\n    const result = [];\n    var Word = Dictionnaire[Math.floor(Math.random() * Dictionnaire.length)];\n\n    for (var i = 0; i < Word.length; i++) {\n      result.push(Word.charAt(i));\n    }\n\n    return result;\n  }\n\n  generateKeyBoard() {\n    return SYMBOLS.split(' ');\n  }\n\n  getFeedbackForKeyBoard(index, wordExist, lost, won) {\n    const usedKeys = this.state.usedKeys;\n    const isUsed = usedKeys.includes(index);\n\n    if (isUsed || !wordExist || won || lost) {\n      return 'hidden';\n    }\n\n    return 'visible';\n  }\n\n  getFeedbackForLetter(index) {\n    const _this$state = this.state,\n          foundLetters = _this$state.foundLetters,\n          word = _this$state.word;\n    const isFound = foundLetters.includes(word[index]);\n\n    if (isFound) {\n      return 'visible';\n    }\n\n    return 'hidden';\n  }\n\n  handleNewGuess(index) {\n    const _this$state2 = this.state,\n          word = _this$state2.word,\n          guesses = _this$state2.guesses,\n          usedKeys = _this$state2.usedKeys,\n          foundLetters = _this$state2.foundLetters,\n          failedAttempt = _this$state2.failedAttempt;\n    const newUsedKey = [index];\n    const isIn = word.includes(SYMBOLS.split(' ')[index]) && !foundLetters.includes(SYMBOLS.split(' ')[index]);\n    const boolFailedAttempt = !word.includes(SYMBOLS.split(' ')[index]) && !foundLetters.includes(SYMBOLS.split(' ')[index]);\n    const newGuesses = guesses + 1;\n    const newFailedAttempt = failedAttempt < 8 ? boolFailedAttempt ? failedAttempt + 1 : failedAttempt : failedAttempt;\n    this.setState({\n      usedKeys: [...usedKeys, ...newUsedKey],\n      guesses: newGuesses\n    });\n\n    if (isIn) {\n      var newLetters = [];\n\n      for (var i = 0; i < word.length; i++) {\n        if (SYMBOLS.split(' ')[index] === word[i]) {\n          newLetters.push(word[i]);\n        }\n      }\n\n      this.setState({\n        foundLetters: [...foundLetters, ...newLetters]\n      });\n    }\n\n    if (boolFailedAttempt) {\n      const newImageAddress = './ImagePendu/Image' + newFailedAttempt.toString(10) + '.jpg';\n      console.log(newImageAddress);\n      this.setState({\n        failedAttempt: newFailedAttempt,\n        imageAddress: newImageAddress\n      });\n    }\n  }\n\n  render() {\n    const _this$state3 = this.state,\n          keys = _this$state3.keys,\n          word = _this$state3.word,\n          guesses = _this$state3.guesses,\n          foundLetters = _this$state3.foundLetters,\n          hallOfFame = _this$state3.hallOfFame,\n          imageAddress = _this$state3.imageAddress,\n          failedAttempt = _this$state3.failedAttempt;\n    const won = foundLetters.length === word.length && foundLetters.length !== 0;\n    const lost = failedAttempt === 8;\n    const wordExist = word.length !== 0;\n    return React.createElement(\"div\", {\n      className: \"Pendu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, !wordExist && React.createElement(AskWord, {\n      StoreWord: this.StoreWord,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(GuessCount, {\n      guesses: guesses,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"wordToGuess\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, word.map((lettre, index) => React.createElement(Letter, {\n      lettre: lettre,\n      feedback: this.getFeedbackForLetter(index),\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"images\",\n      class: \"behind\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, failedAttempt > 0 && React.createElement(\"img\", {\n      src: require(\"\".concat(imageAddress)),\n      alt: \"\",\n      width: \"80%\",\n      height: \"auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"KeyBoard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, keys.map((touche, index) => React.createElement(Key, {\n      touche: touche,\n      feedback: this.getFeedbackForKeyBoard(index, wordExist, lost, won),\n      key: touche,\n      index: index,\n      onClick: this.handleCardClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }))), won && (hallOfFame ? React.createElement(HallOfFame, {\n      entries: hallOfFame,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }) : React.createElement(HighScoreInput, {\n      guesses: guesses,\n      onStored: this.displayHallOfFame,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), won && hallOfFame && React.createElement(\"div\", {\n      className: \"ResetButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.onResetClick.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Reset\")), lost && React.createElement(\"div\", {\n      className: \"ResetButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"The word was \", word, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.onResetClick.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Rejouer\")));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/benoit/Documents/ReactJS/pendu_ocr/src/App.js"],"names":["React","Component","Key","Letter","GuessCount","HallOfFame","AskWord","HighScoreInput","SYMBOLS","Dictionnaire","App","constructor","props","state","keys","generateKeyBoard","word","guesses","usedKeys","foundLetters","hallOfFame","temporaryWord","failedAttempt","imageAddress","displayHallOfFame","setState","StoreWord","Word","handleCardClick","index","handleNewGuess","initialState","onResetClick","e","preventDefault","chooseWord","result","Math","floor","random","length","i","push","charAt","split","getFeedbackForKeyBoard","wordExist","lost","won","isUsed","includes","getFeedbackForLetter","isFound","newUsedKey","isIn","boolFailedAttempt","newGuesses","newFailedAttempt","newLetters","newImageAddress","toString","console","log","render","map","lettre","require","touche","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './App.css'\n\nimport Key from './KeyBoard'\nimport Letter from './WordToGuess'\nimport GuessCount from './GuessCount'\nimport HallOfFame from './HallOfFame'\nimport AskWord from './AskWord'\nimport HighScoreInput from './HighScoreInput'\n\n\n\n\nconst SYMBOLS = 'A B C D E F G H I J K L M N O P Q R S T U V W X Y Z'\n\nconst Dictionnaire = [\n  'LIPINddddddddddddd',\n  'PROOOddddddddd'\n]\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.initialState = {\n      keys: this.generateKeyBoard(),\n      word : [],\n      guesses: 0,\n      usedKeys: [],\n      foundLetters: [],\n      hallOfFame: null,\n      temporaryWord:'',\n      failedAttempt: 0,\n      imageAddress: './ImagePendu/Image0.jpg',\n    };\n    this.state = this.initialState;\n  }\n\n  onResetClick(e) {\n    e.preventDefault();\n    this.setState(this.initialState);\n  }\n\n  state = {\n    keys: this.generateKeyBoard(),\n    word : [],\n    guesses: 0,\n    usedKeys: [],\n    foundLetters: [],\n    hallOfFame: null,\n    temporaryWord:'',\n    failedAttempt: 0,\n    imageAddress: '',\n  }\n\n\n\n  chooseWord(){\n    const result = []\n\n    var Word = Dictionnaire[Math.floor(Math.random()*Dictionnaire.length)];\n     \n    for (var i = 0; i < Word.length; i++) {\n      result.push(Word.charAt(i));\n    }\n    return result\n\n  }\n\n  generateKeyBoard() {\n    \n    return SYMBOLS.split(' ');\n  }\n\n  displayHallOfFame = hallOfFame => {\n    this.setState({hallOfFame})\n  }\n\n  StoreWord = Word => {\n    this.setState({word: Word})\n  }\n\n  getFeedbackForKeyBoard(index, wordExist, lost, won) {\n    const {usedKeys } = this.state\n    const isUsed = usedKeys.includes(index)\n  \n    if (isUsed || !wordExist || won ||lost) {\n      return 'hidden'\n    }\n    return 'visible'\n  }\n\n  getFeedbackForLetter(index) {\n    const {foundLetters, word } = this.state\n    const isFound = foundLetters.includes(word[index])\n  \n    if (isFound) {\n      return 'visible'\n    }\n    return 'hidden'\n  }\n\n  handleCardClick = index => {\n    this.handleNewGuess(index);\n  }\n\n  handleNewGuess(index) {\n    const { word, guesses, usedKeys, foundLetters, failedAttempt } = this.state;\n    const newUsedKey = [index];\n    const isIn = (word.includes(SYMBOLS.split(' ')[index]) && !(foundLetters.includes(SYMBOLS.split(' ')[index])));\n    const boolFailedAttempt = (!(word.includes(SYMBOLS.split(' ')[index])) && !(foundLetters.includes(SYMBOLS.split(' ')[index])))\n\n    const newGuesses = guesses + 1;\n    const newFailedAttempt = (failedAttempt < 8) ? (boolFailedAttempt? failedAttempt + 1 : failedAttempt) : failedAttempt\n\n    this.setState({ usedKeys: [...usedKeys, ...newUsedKey], guesses: newGuesses });\n    if (isIn) {\n      var newLetters = [];\n      for(var i = 0; i < word.length; i++){\n        if (SYMBOLS.split(' ')[index] === word[i]){\n          newLetters.push(word[i]);\n        }\n      }\n      this.setState({ foundLetters: [...foundLetters, ...newLetters] })\n    }\n    if (boolFailedAttempt) {\n      const newImageAddress = './ImagePendu/Image'+newFailedAttempt.toString(10) + '.jpg'\n      console.log(newImageAddress)\n      this.setState({ failedAttempt: newFailedAttempt, imageAddress: newImageAddress})\n    }\n  }\n\n  \n\n\n  render() {\n    const {keys, word, guesses, foundLetters, hallOfFame, imageAddress, failedAttempt}=this.state;\n    const won = ((foundLetters.length === word.length)&&(foundLetters.length!==0));\n    const lost = failedAttempt===8;\n    const wordExist = (word.length !== 0)\n    return (\n      \n      <div className=\"Pendu\">\n        {!wordExist &&(\n        <AskWord StoreWord = {this.StoreWord}/>\n        )}\n\n        <GuessCount guesses={guesses} />\n\n        <div className=\"wordToGuess\">\n          {word.map((lettre, index) => (\n            <Letter lettre = {lettre}\n            feedback = {this.getFeedbackForLetter(index)}\n            key = {index} />\n          ))}\n        </div>\n\n        <div className=\"images\" class=\"behind\">\n          {failedAttempt>0 && <img src={ require(`${imageAddress}`)} alt=\"\"  width='80%' height = 'auto' />}\n        </div>\n        \n        <div className=\"KeyBoard\">\n          {keys.map((touche, index) => (\n            <Key touche = {touche}\n            feedback = {this.getFeedbackForKeyBoard(index, wordExist, lost, won)}\n            key = {touche}\n            index = {index}\n            onClick = {this.handleCardClick}\n             />\n          ))}\n        </div>\n        \n        {won && (\n          (hallOfFame ? (<HallOfFame entries={hallOfFame}/>) : \n          (<HighScoreInput guesses={guesses} onStored = {this.displayHallOfFame}/>))\n        )}\n\n        {won && (hallOfFame && \n          <div className=\"ResetButton\">\n            <button type=\"button\" onClick={this.onResetClick.bind(this)}>Reset</button>\n          </div>\n        )}\n\n        {lost && (\n          <div className=\"ResetButton\">\n            <p>The word was {word}<br></br>\n            </p>\n            <button type=\"button\" onClick={this.onResetClick.bind(this)}>Rejouer</button>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}